

<div class="card card-primary" style="margin-left: 430px; margin-right: 430px">
  <div class="card-heading">
    Sign Up!
  </div>

  <div class="card-body">
      <form class="form-horizontal"
            novalidate
            (ngSubmit)="save()"
            [formGroup]="customerForm">
    
          <fieldset>

            <div class="form-group"
            [ngClass]="{'has-error': (customerForm.get('firstName').touched || customerForm.get('firstName').dirty) && !customerForm.get('firstName').valid }">

            <label class="col-md-2 control-label sr-only"
              for="firstNameId">First Name</label>

          <div class="col-md-8">
            <input class="form-control"
                   id="firstNameId"
                   type="text"
                   placeholder="First Name (required)"
                   formControlName="firstName"/>

            <span class="text-text" style="color: red" *ngIf="(customerForm.get('firstName').touched || customerForm.get('firstName').dirty) && customerForm.get('firstName').errors">
              <span *ngIf="customerForm.get('firstName').errors.required">
                Please enter your first name.
              </span>
              <span *ngIf="customerForm.get('firstName').errors.minlength">
                The first name must be longer than 3 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group"
        [ngClass]="{'has-error': (customerForm.get('lastName').touched || customerForm.get('lastName').dirty) && !customerForm.get('lastName').valid }">

        <label class="col-md-2 control-label sr-only"
          for="lastNameId">Last Name</label>

      <div class="col-md-8">
        <input class="form-control"
               id="lastNameId"
               type="text"
               placeholder="Last Name (required)"
               formControlName="lastName"
               />

        <span class="form-text" style="color: red" *ngIf="(customerForm.get('lastName').touched || customerForm.get('lastName').dirty) && customerForm.get('lastName').errors">
          <span *ngIf="customerForm.get('lastName').errors.required">
            Please enter your last name.
          </span>
          <span *ngIf="customerForm.get('lastName').errors.maxlength">
            The last name can't be longer than 25 characters.
          </span>
        </span>
      </div>
    </div>

    <div formGroupName="emailGroup"
      [ngClass]="{'has-error': customerForm.get('emailGroup').errors }">
    <div class="form-group"
    [ngClass]="{'has-error': (customerForm.get('emailGroup.email').touched || customerForm.get('emailGroup.email').dirty) && !customerForm.get('emailGroup.email').valid }">

    <label class="col-md-2 control-label sr-only"
      for="emailId">Email</label>

  <div class="col-md-8">
    <input class="form-control"
           id="emailId"
           type="email"
           placeholder="Email (required)"
           formControlName="email"
        />

    <span class="form-text" style="color: red" *ngIf="(customerForm.get('emailGroup.email').touched || customerForm.get('emailGroup.email').dirty) && customerForm.get('emailGroup.email').errors">
      <span *ngIf="customerForm.get('emailGroup.email').errors.required">
        Please enter your email address.
      </span>
      <span *ngIf="customerForm.get('emailGroup.email').errors.pattern">
        Please enter a valid email address.
      </span>

      <span *ngIf="customerForm.get('emailGroup.email').errors.email">
        Please enter a valid email address.
      </span>
    </span>
  </div>
</div>


<div class="form-group"
[ngClass]="{'has-error': (customerForm.get('emailGroup.confirmEmail').touched ||
                          customerForm.get('emailGroup.confirmEmail').dirty) &&
                          !customerForm.get('emailGroup.confirmEmail').valid }">

<label class="col-md-2 control-label sr-only"
  for="confirmEmailId">Confirm Email</label>

<div class="col-md-8">
<input class="form-control"
       id="confirmEmailId"
       type="confirmEmail"
       placeholder="Confirm Email (required)"
       formControlName="confirmEmail"
    />

<span class="form-text" style="color: red" *ngIf="(customerForm.get('emailGroup.confirmEmail').touched ||
                                                  customerForm.get('emailGroup.confirmEmail').dirty) &&
                                                  (customerForm.get('emailGroup.confirmEmail').errors ||
                                                  customerForm.get('emailGroup').errors)">
  <span *ngIf="customerForm.get('emailGroup.confirmEmail').errors?.required">
  Please confirm your email address.
  </span>

  <span *ngIf="customerForm.get('emailGroup').errors?.match">
    The confirmation does not match the email address.
  </span>
</span>
</div>
</div>

</div>


<div class="form-group"
[ngClass]="{'has-error': !customerForm.get('phone').valid }">

<label class="col-md-2 control-label sr-only"
  for="phoneId">Phone</label>

<div class="col-md-8">
<input class="form-control"
       id="phoneId"
       type="tel"
       placeholder="Phone"
       formControlName="phone"/>

<span class="form-text" style="color: red" *ngIf="customerForm.get('phone').errors">
  <span *ngIf="customerForm.get('phone').errors.required">
    Please enter your phone number.
  </span>
</span>
</div>
</div>


<div class="form-group"
[ngClass]="{'has-error': (customerForm.get('rating').touched || customerForm.get('rating').dirty) && !customerForm.get('rating').valid }">

<label class="col-md-2 control-label sr-only"
  for="ratingId">Rating</label>

<div class="col-md-8">
<input class="form-control"
       id="ratingId"
       type="number"
       placeholder="Rating"
       formControlName="rating"/>

<span class="text-text" style="color: red" *ngIf="(customerForm.get('rating').touched || customerForm.get('rating').dirty) && customerForm.get('rating').errors">
  <span *ngIf="customerForm.get('rating').errors.range">
    Please enter your experience from 1 to 5.
  </span>

</span>
</div>
</div>



<div class="form-group">
  <label class="col-md-2 control-label">Send Notifications</label>
  <div class="col-md-8">
    <label class="readio-inline">
      <input type="radio"
             value="email"
             formControlName="notifications"
             (click)="setNotification('email')">Email
           </label>
           <label class="radio-inline">
             <input type="radio"
                    value="text"
                    formControlName="notifications"
                    (click)="setNotification('text')">Text
              </label>

        </div>
      </div>



<div class="form-group">
  <div class="col-md-4 col-md-offset-2">
    <span>
      <button class="btn btn-primary"
              type="submit"
              [disabled]="!customerForm.valid">
              Saved
      </button>
    </span>

    <span>
      <button class="btn btn-defalut"
                type="button"
                (click)="populateTestData()">
                Test Data
        </button>
      </span>

  </div>
</div>
</fieldset>
</form>
</div>
</div>
<br>Dirty: {{ customerForm.dirty }}
<br>Touched: {{ customerForm.touched }}
<br>Valid: {{ customerForm.valid }}
<br>Value: {{ customerForm.value | json }}
